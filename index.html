<!doctype html><html><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax.css><meta name=viewport content="width=device-width,initial-scale=1"><title>beau</title><body><div id=content><div class="column is-two-thirds-desktop is-full-tablet is-full-mobile is-family-monospace"><div class="tile is-ancestor"><div class="tile is-parent"><article class="tile is-child notification is-primary"><div class=has-text-centered><div class="is-profile-image mb-5"><figure class="image is-128x128 is-inline-block"><a href=/><img class=is-profile-image src=/images/profile.jpeg alt="avatar of my cat chilling"></a></figure></div></div><p class=title>Beau</p><p class=subtitle>Systems Engineer</p><div class="content has-text-black"><p>internet of beau.</p></div><div id=icons class=has-text-centered><p><span class=icon-text><span class=icon><a href=https://github.com/beauso title="beauso Github"><i class="fa fa-github"></i></a></span>
<span></span></span>
<span class=icon-text><span class=icon><a href=mailto:ðŸ§ @beau.so><i class="fa fa-envelope"></i></a></span>
<span></span></span></p></article></div><div id=content></div><div class="tile is-parent is-8"><article class="tile is-child is-content box"><p class=title>/</p><ul><li><a href=https://beau.so/posts/well-known-matrix-synapse/>Allowing Matrix (synapse) federation without exposing 8448 via /.well-known/ delegation and nginx</a> - June 14, 2022</li><div class=is-post-content>problem I have a matrix server called example.com, but it&rsquo;s actually hosted on matrix.example.com. I want to keep the cosmetic name of example.com and have all federation traffic route through 443 instead of 8488.
what is delegation? Delegation is just a fancy term in the Matrix world for having a Matrix server name of example.com while having the actual endpoint other servers connect to being different, for example:
different.example.com:443 There are two main reasons why this is useful:</div><div><a href=/posts/well-known-matrix-synapse/>Read Moreâ€¦</a></div><hr><li><a href=https://beau.so/posts/dns_with_tf_cf/>Clean YAML DNS management with TF and Cloudflare</a> - May 22, 2022</li><div class=is-post-content>Intro - Avoiding bad patterns There are two uninspiring patterns I&rsquo;ve observed with DNS management via Terraform (be it R53, Cloudflare etc):
Resource blocks for each individual record.
This is fine if you know you&rsquo;re only really going to have a few records, but it almost always ends up being a short sighted approach (especially with multiple domains), repeating attribute after attribute e.g.: 1 2 3 4 5 6 7 resource "aws_route53_record" "example_cname" { .</div><div><a href=/posts/dns_with_tf_cf/>Read Moreâ€¦</a></div><hr><li><a href=https://beau.so/posts/init/>Init</a> - May 22, 2022</li><div class=is-post-content>This blog is generated using hugo, a static site generator framework. It allows me to keep the source DRY by using Golang html/template syntax and not worry about any dependencies or additional overhead.</div><hr></ul></article></div></div></div></div></div></div></body></html>